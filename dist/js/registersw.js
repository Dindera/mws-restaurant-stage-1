const REPO="/",_updateReady=e=>{console.log("New Version Available"),e.postMessage({action:"skipWaiting"})},_trackInstalling=e=>{e.addEventListener("statechange",()=>{"installed"===e.state&&_updateReady(e)})};"serviceWorker"in navigator&&(navigator.serviceWorker.register("sw.js",{scope:"/"}).then(e=>{e.waiting?_updateReady(e.waiting):e.installing?_trackInstalling(e.installing):e.addEventListener("updatefound",()=>{_trackInstalling(e.installing)})}).catch(e=>{console.log("fail",e)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyc3cuanMiXSwibmFtZXMiOlsiUkVQTyIsIl91cGRhdGVSZWFkeSIsIndvcmtlciIsImNvbnNvbGUiLCJsb2ciLCJhY3Rpb24iLCJfdHJhY2tJbnN0YWxsaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInNjb3BlIiwidGhlbiIsInJlZyIsIndhaXRpbmciLCJpbnN0YWxsaW5nIiwiY2F0Y2giLCJlcnJvciIsIndpbmRvdyIsInJlbG9hZCJdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTUEsS0FBUSxJQUNSQyxhQUFnQkMsSUFBdEJDLFFBQU1GLElBQUFBLHlCQUNGRSxFQUFRQyxZQUFJLENBQUFDLE9BQUEsaUJBRGhCQyxpQkFBQUosSUFPQUEsRUFBT0ssaUJBQWlCLGNBQWUsS0FEakNELGNBQU5KLEVBQU1JLE9BQ05KLGFBQU9LLE1BU0gsa0JBQW1CQyxZQUV2QkEsVUFBQUEsY0FBVUMsU0FBY0MsUUFBeEIsQ0FBQUMsTUFuQmMsTUFtQjRCQyxLQUFBQyxJQUExQ0EsRUFBeURELFFBRXpEWCxhQUFRYSxFQUFTQSxTQUdoQkQsRUFDREUsV0FFSVQsaUJBQWlCTyxFQUFJRSxZQUFyQlQsRUFBQUEsaUJBQUFBLGNBQXFCUyxLQUlyQlQsaUJBQWlCTyxFQUFJRSxnQkFGeEJDLE1BQUFDLElBS0RkLFFBQVFDLElBQUksT0FBUWEsS0FGbkJULFVBRkRDLGNBQUFGLGlCQUFBLG1CQUFBLEtBR0NXLE9BQUVGLFNBQVdHIiwiZmlsZSI6InJlZ2lzdGVyc3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL0NoZWNrIGZvciBzZXJ2aWNlIHdvcmtlciB1cGRhdGVcclxuLy8gY29uc3QgUkVQTyA9ICAnL3Jlc3RhdXJhbnQtcmV2aWV3LWFwcC8nO1xyXG5jb25zdCBSRVBPID0gICcvJztcclxuY29uc3QgX3VwZGF0ZVJlYWR5ID0gKHdvcmtlcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ05ldyBWZXJzaW9uIEF2YWlsYWJsZScpO1xyXG4gICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7IGFjdGlvbjogJ3NraXBXYWl0aW5nJyB9KTtcclxuICBcclxufTtcclxuXHJcbmNvbnN0IF90cmFja0luc3RhbGxpbmcgPSAod29ya2VyKSA9PiB7XHJcbndvcmtlci5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsICgpID0+IHtcclxuaWYgKHdvcmtlci5zdGF0ZSA9PT0gJ2luc3RhbGxlZCcpIHtcclxuICAgICBfdXBkYXRlUmVhZHkod29ya2VyKTtcclxufVxyXG59KTtcclxufTtcclxuXHJcbi8vIHJlZ2lzdGVyIHNlcnZpY2Ugd29ya2VyXHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG5cclxubmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3N3LmpzJywge3Njb3BlOiBSRVBPfSkudGhlbihyZWcgPT4ge1xyXG5cclxuaWYgKHJlZy53YWl0aW5nKSB7XHJcbiAgICBfdXBkYXRlUmVhZHkocmVnLndhaXRpbmcpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcbi8vIEluc3RhbGwgc2VydmljZSB3b3JrZXJcclxuaWYgKHJlZy5pbnN0YWxsaW5nKSB7XHJcbiAgICBfdHJhY2tJbnN0YWxsaW5nKHJlZy5pbnN0YWxsaW5nKTtcclxuICAgIHJldHVybjtcclxufVxyXG5yZWcuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZm91bmQnLCAoKSA9PiB7XHJcbiAgICBfdHJhY2tJbnN0YWxsaW5nKHJlZy5pbnN0YWxsaW5nKTtcclxufSk7XHJcbn0pLmNhdGNoKGVycm9yID0+IHtcclxuY29uc29sZS5sb2coJ2ZhaWwnLCBlcnJvcik7XHJcbn0pO1xyXG4vL1JlZnJlc2ggb25seSBvbmNlXHJcbm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRyb2xsZXJjaGFuZ2UnLCAoKSA9PiB7XHJcbndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxufSk7XHJcbn1cclxuIl19
